(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,a){e.exports=a(342)},142:function(e,t,a){},143:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},342:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(69),c=a.n(o),i=(a(142),a(10)),l=a(11),s=a(14),u=a(12),m=a(13),h=a(348),d=a(346),p=a(16),E=a(32),f=(a(143),a(343)),b=a(344);function v(e){return e.apiKey="1e9e9365",function(e,t){var a=[];for(var n in t)t.hasOwnProperty(n)&&a.push(n+"="+encodeURIComponent(t[n]));return e+a.join("&")}("http://www.omdbapi.com/?",e)}function I(e){e.target.src="/no-poster.png"}var O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).searchForTvShows=function(e){var t=a.props.match.params,n=t.searchTitle,r=t.searchYear;if(n&&n!==a.state.searchTitle){r||(r=2018),a.setState({searchTitle:n,searchYear:r,refresh:!1});var o=v({type:"series",year:r,s:n.trim()});fetch(o).then(function(e){return e.json()}).then(function(e){a.setState({apiResult:e})})}},a.handleSelectShow=function(e){},a.initialState={searchTitle:"",searchYear:"",searchPage:"",apiResult:""},a.state=a.initialState,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.searchForTvShows()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;document.activeElement.blur();var t=this.props.match.params;!0!==this.state.refresh&&this.state.searchTitle!==t.searchTitle&&(this.setState({refresh:!0}),this.searchForTvShows());var a=this.state.apiResult,n="",o="";if(""!==a)if("True"===a.Response){var c=a.Search;n=[],void 0!==c?n=c.map(function(t,a){var n=t.Poster&&"N/A"!==t.Poster?t.Poster:"/no-poster.png";return r.a.createElement("tr",{imdbId:t.imdbID,key:a,onClick:e.handleSelectShow},r.a.createElement("td",{width:"1px"},r.a.createElement(p.b,{to:"/show/".concat(t.imdbID)},a+1)),r.a.createElement("td",null,r.a.createElement(p.b,{to:"/show/".concat(t.imdbID)},r.a.createElement(f.a,{height:"75px",onError:I,src:n}))),r.a.createElement("td",null,r.a.createElement(p.b,{to:"/show/".concat(t.imdbID)},t.Title)),r.a.createElement("td",{class:"text-nowrap"},r.a.createElement(p.b,{to:"/show/".concat(t.imdbID)},t.Year)))}):o="No show found"}else o=a.Error?"Error calling API: "+a.Error:"Unknown error";var i="";return""!==n&&""===o?(i="Found "+a.totalResults+" matches.",n=r.a.createElement(b.a,{class:"table",size:"sm",variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Poster"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Years"))),r.a.createElement("tbody",null,n))):(i=o,n=""),r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("b",null,i)),r.a.createElement(b.a,{size:"sm",variant:"dark"},n))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).fetchSeasonInfo=function(e){var t=a.props.match.params.imdbIdSeason;if(t){var n=t.split(":");if(2===n.length){var r=v({i:n[0],Season:n[1]});fetch(r).then(function(e){return e.json()}).then(function(e){a.setState({apiResult:e})})}else a.error="Invalid URL request"}},a.initialState={apiResult:"",error:""},a.state=a.initialState,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchSeasonInfo()}},{key:"render",value:function(){var e=this.state.apiResult,t="",a="";if(this.state&&""!==e)if("True"===e.Response){var n=e.Episodes;t=[],void 0!==n?t=n.map(function(e,t){return r.a.createElement("tr",{imdbId:e.imdbID,key:t},r.a.createElement("td",{width:"1px"},t+1),r.a.createElement("td",null,r.a.createElement(p.b,{to:"/episode/".concat(e.imdbID)},e.Title)),r.a.createElement("td",{class:"text-nowrap"},e.Released))}):a="No episode found"}else a=e.Error?"Error calling API: "+e.Error:"Unknown error";return""===t||""!==a?a=r.a.createElement("div",null,a):t=r.a.createElement("div",null,'Episode list for "',e.Title,'". Season ',e.Season,r.a.createElement(b.a,{class:"table",size:"sm",variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Realeased"))),r.a.createElement("tbody",null,t))),r.a.createElement("div",{className:"container"},a,t)}}]),t}(n.Component),g=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.match.params.encodedUri,t="";if(e){var a=decodeURIComponent(e);t=r.a.createElement(f.a,{src:a,onError:I})}return r.a.createElement("div",{class:"d-flex justify-content-center"},t)}}]),t}(n.Component),T=a(345),j=a(349),S=(a(152),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).fetchShowInfo=function(e){var t=a.props.match.params.imdbId;if(t){var n=v({i:t});fetch(n).then(function(e){return e.json()}).then(function(e){a.setState({apiResult:e})})}},a.initialState={apiResult:""},a.state=a.initialState,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchShowInfo()}},{key:"render",value:function(){var e=this.state.apiResult,t="",a="";if(""!==e)if("True"===e.Response){for(var n=e,o=["Year","Rated","Released","Genre","Plot","Actors","Language","imdbRating"].map(function(e){return r.a.createElement("div",null," ",r.a.createElement("b",null,e,":")," ",r.a.createElement("i",null,n[e]),r.a.createElement("br",null))}),c=n.totalSeasons,i=[],l=1;l<=c;l++)i.push(r.a.createElement(p.b,{to:"/season/".concat(n.imdbID,":").concat(l)},r.a.createElement("span",null,r.a.createElement(T.a,{variant:"secondary"},"Season ",l)," ")));var s=n.Poster&&"N/A"!==n.Poster?n.Poster:"/no-poster.png",u=encodeURIComponent(s);t=r.a.createElement(j.a,{bg:"dark",text:"white"},r.a.createElement(p.b,{to:"/poster/".concat(u)},r.a.createElement(j.a.Img,{variant:"top",class:"poster-image mx-auto d-block",onError:I,src:s})),r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,null,n.Title),r.a.createElement(j.a.Text,null,o,r.a.createElement("br",null),r.a.createElement("b",null,c," Seasons:"),r.a.createElement("div",null,i))))}else a=e.Error?"Error calling API: "+e.Error:"Unknown error";return""!==t&&""===a||(t=a),r.a.createElement("div",{className:"container"},t)}}]),t}(n.Component)),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).fetchEpisodeInfo=function(e){var t=a.props.match.params.imdbId;if(t){var n=v({i:t});fetch(n).then(function(e){return e.json()}).then(function(e){a.setState({apiResult:e})})}},a.initialState={apiResult:""},a.state=a.initialState,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchEpisodeInfo()}},{key:"render",value:function(){var e=this.state.apiResult,t="",a="";if(""!==e)if("True"===e.Response){var n=e,o=["Season","Episode","Year","Rated","Released","Plot","Actors","Director","Language","imdbRating"].map(function(e){return r.a.createElement("div",null," ",r.a.createElement("b",null,e,":")," ",r.a.createElement("i",null,n[e]),r.a.createElement("br",null))}),c=encodeURIComponent(n.Poster);t=r.a.createElement(j.a,{bg:"dark",text:"white"},r.a.createElement(p.b,{to:"/poster/".concat(c)},r.a.createElement(j.a.Img,{variant:"top",class:"poster-image mx-auto d-block img-responsive",onError:I,src:n.Poster})),r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,null,'"',n.Title,'"'),r.a.createElement(j.a.Text,null,o)))}else a=e.Error?"Error calling API: "+e.Error:"Unknown error";return""!==t&&""===a||(t=a),r.a.createElement("div",{className:"container"},t)}}]),t}(n.Component),k=a(50),P=a(48),y=a(347),N=a(129),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=e.target.elements[0].value;a.setState({redirectToPage:!1,pageToRedirect:"/shows/"+t}),a.props.history.push("/shows/"+t)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleFormSubmit=a.handleFormSubmit.bind(Object(P.a)(a)),a.initialState={searchTitle:"",searchYear:"",searchPage:"",redirectToPage:!1,pageToRedirect:""},a.state=a.initialState,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{href:"#search",onSubmit:this.handleFormSubmit,inline:!0,className_:"mx-0"},r.a.createElement(N.a,{onChange:this.handleChange,bg:"dark",type:"text",name:"searchTitle",placeholder:"Search TV show"}))}}]),t}(n.Component),_=Object(E.e)(D),C=(a(153),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"lander"},r.a.createElement("h1",null,"FoMoNoMo TV"),r.a.createElement("p",null,"Never miss your favorite TV shows again"))}}]),t}(r.a.Component)),U=function(){return r.a.createElement("h1",null,"Not found")},L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).initialState={searchTitle:"",searchYear:"",searchPage:"",data:[],curTime:null},a.state=a.initialState,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(h.a,{className:"navbar-light justify-content-between",expand:"",bg:"black"},r.a.createElement(h.a.Brand,{href:"/"},r.a.createElement("img",{src:"/fmnmtv.png",width:"32",height:"32",className:"d-inline-block align-top",alt:"React Bootstrap logo"})),r.a.createElement(_,{history:this.props.history}),r.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(d.a.Link,{href:"/"},"Home"),r.a.createElement(d.a.Link,{href:"/profile"},"Profile"))),r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",component:C}),r.a.createElement(E.a,{path:"/shows/:searchTitle",component:O}),r.a.createElement(E.a,{path:"/show/:imdbId",component:S}),r.a.createElement(E.a,{path:"/season/:imdbIdSeason",component:w}),r.a.createElement(E.a,{path:"/episode/:imdbId",component:R}),r.a.createElement(E.a,{path:"/poster/:encodedUri",component:g}),r.a.createElement(E.a,{component:U})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(135),x=a.n(Y),A=a(136),G="prod"===Object({NODE_ENV:"production",PUBLIC_URL:"/fomonomo-tv"}).REACT_APP_STAGE?{STRIPE_KEY:"pk_test_9Um9N4ov9nTs0vjXDLYYhRUL00DWGXNDvS",s3:{REGION:"us-west-2",BUCKET:"notes-app-2-api-prod-attachmentsbucket-1hphuk2udj87c"},apiGateway:{REGION:"us-west-2",URL:"https://p2zr6ah3nb.execute-api.us-west-2.amazonaws.com/prod"},cognito:{REGION:"us-west-2",USER_POOL_ID:"us-west-2_EYhvOi9ih",APP_CLIENT_ID:"6dsq8jtjd65rd7hc5997q67vs9",IDENTITY_POOL_ID:"us-west-2:d6acf95c-b377-4e44-800f-78d3569bd889"}}:{STRIPE_KEY:"pk_test_9Um9N4ov9nTs0vjXDLYYhRUL00DWGXNDvS",s3:{REGION:"us-west-2",BUCKET:"notes-app-2-api-dev-attachmentsbucket-ltwvbw2k2vqr"},apiGateway:{REGION:"us-west-2",URL:"https://9iszjse6v2.execute-api.us-west-2.amazonaws.com/dev"},cognito:{REGION:"us-west-2",USER_POOL_ID:"us-west-2_FiMfko5GW",APP_CLIENT_ID:"1a9lf2mqmlebu4ah9kvp34bm57",IDENTITY_POOL_ID:"us-west-2:c35870e6-90fb-4c8f-94bc-9d04d018e381"}},B=Object(A.a)({MAX_ATTACHMENT_SIZE:5e6},G);x.a.configure({Auth:{mandatorySignIn:!0,region:B.cognito.REGION,userPoolId:B.cognito.USER_POOL_ID,identityPoolId:B.cognito.IDENTITY_POOL_ID,userPoolWebClientId:B.cognito.APP_CLIENT_ID},Storage:{region:B.s3.REGION,bucket:B.s3.BUCKET,identityPoolId:B.cognito.IDENTITY_POOL_ID},API:{endpoints:[{name:"fomonomo-tv",endpoint:B.apiGateway.URL,region:B.apiGateway.REGION}]}}),c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},59:function(e,t){}},[[137,1,2]]]);
//# sourceMappingURL=main.196aac7c.chunk.js.map